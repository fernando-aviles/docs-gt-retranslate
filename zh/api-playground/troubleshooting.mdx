---
title: "故障排查"
description: "API 参考的常见问题"
icon: "message-square-warning"
---

如果你的 API 页面显示异常，请先检查以下常见配置问题：

<AccordionGroup>
  <Accordion title="All of my OpenAPI pages are completely blank">
    在这种情况下，很可能是 Mintlify 找不到你的 OpenAPI 文档，或你的 OpenAPI 文档无效。

    在本地运行 `mint dev` 应该能暴露出其中一些问题。

    要验证你的 OpenAPI 文档是否能通过校验：

    1. 访问[此校验器](https://editor.swagger.io/)
    2. 切换到“Validate text”选项卡
    3. 粘贴你的 OpenAPI 文档
    4. 点击“Validate it!”

    如果下方出现的文本框带有绿色边框，说明你的文档已通过校验。
    这是 Mintlify 用于校验 OpenAPI 文档的同一套校验包，因此如果你的文档在这里通过，
    很大概率问题出在其他地方。

    另外，Mintlify 不支持 OpenAPI 2.0。如果你的文档使用该版本的规范，可能会遇到此问题。你可以在 [editor.swagger.io](https://editor.swagger.io/)（在 Edit &gt; Convert to OpenAPI 3 下）将文档转换：

    <Frame>
      ![](/images/convert-oas-3.png)
    </Frame>
  </Accordion>

  <Accordion title="One of my OpenAPI pages is completely blank">
    这通常是由页面元数据中的 `openapi` 字段拼写错误引起的。请确保
    HTTP 方法和路径与 OpenAPI 规范中的 HTTP 方法和路径完全一致。

    以下是一个可能出错的示例：

    ```mdx get-user.mdx
    ---
    openapi: "GET /users/{id}/"
    ---
    ```

    ```yaml openapi.yaml
    paths:
      "/users/{id}":
        get: ...
    ```

    请注意，`openapi` 字段中的路径以斜杠结尾，而 OpenAPI 文档中的路径则没有。

    另一个常见问题是文件名拼写错误。如果你在 `openapi` 字段中指定了某个特定的 OpenAPI 文档，请确认文件名无误。比如，如果你有两个 OpenAPI 文档 `openapi/v1.json` 和 `openapi/v2.json`，你的元数据可能如下所示：

    ```mdx api-reference/v1/users/get-user.mdx
    ---
    openapi: "v1 GET /users/{id}"
    ---
    ```
  </Accordion>

  <Accordion title="Requests from the API Playground don't work">
    如果你已配置自定义域名，这可能与反向代理有关。默认情况下，通过 API交互测试台 发起的请求会先向文档站点的 `/_mintlify/api/request` 路径发送一个 `POST` 请求。若你的反向代理仅允许 `GET` 请求，那么这些请求都会失败。要解决此问题，请将反向代理配置为允许对 `/_mintlify/api/request` 路径的 `POST` 请求。

    或者，如果你的反向代理不允许接收 `POST` 请求，你可以按照[设置文档](/zh/settings#param-proxy)中的说明，在 `docs.json` 的 `api.playground.proxy` 配置项中将 Mintlify 设置为直接向你的后端发送请求。使用此配置时，你需要在服务器上配置 CORS，因为请求将直接来自用户的浏览器，而不是通过你的代理。
  </Accordion>

  <Accordion title="OpenAPI navigation entries are not generating pages">
    如果你使用的是 OpenAPI 导航配置，但页面未生成，请检查以下常见问题：

    1. **缺少默认 OpenAPI规范**：请确保你在导航元素上设置了 `openapi` 字段：

    ```json {5}
    "navigation": {
      "groups": [
        {
          "group": "API参考",
          "openapi": "/path/to/openapi.json",
          "pages": [
            "GET /users",
            "POST /users"
          ]
        }
      ]
    }
    ```

    2. **OpenAPI规范继承**：如果使用嵌套导航，确保子级分组继承正确的OpenAPI规范，或为其单独指定规范。

    3. **验证问题**：使用 `mint openapi-check <path-to-openapi-file>` 验证你的OpenAPI文档是否有效。
  </Accordion>

  <Accordion title="Some OpenAPI operations appear in navigation but others don't">
    1. **隐藏的操作**：在你的 OpenAPI 规范中标记为 `x-hidden: true` 的操作不会出现在自动生成的导航中。
    2. **无效的操作**：在 OpenAPI 规范中存在校验错误的操作可能会被跳过。请检查你的 OpenAPI 文档是否存在语法错误。
    3. **手动 vs 自动包含**：如果你从某个 OpenAPI 规范中引用了任意端点，则只有被明确引用的操作会出现在导航中，其他页面不会被自动添加。这也包括在子级导航元素中被引用的操作。
  </Accordion>

  <Accordion title="Mixed navigation (OpenAPI and MDX pages) not working correctly">
    在导航中将 OpenAPI 规范的操作与常规文档页面结合使用时：

    1. **文件冲突**：同一操作不能同时存在一个 `MDX` 文件和一个导航项。例如，如果你有 `get-users.mdx`，请不要在导航中再包含 `"GET /users"`。如果需要创建与某个操作同名的文件，请在该端点上使用 Mintlify OpenAPI扩展 `x-mint`，将 href 指向其他位置。
    2. **路径解析**：与 OpenAPI 规范的操作不匹配的导航项将被视为文件路径。请确保你的 `MDX` 文件存在于预期位置。
    3. **大小写敏感**：OpenAPI 规范的操作匹配区分大小写。请确保导航项中的 HTTP 方法使用大写。
  </Accordion>
</AccordionGroup>