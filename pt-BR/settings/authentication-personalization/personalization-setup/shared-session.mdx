---
- title: Handshake de Sessão Compartilhada
- description: Compartilhe perfeitamente as sessões de usuário entre seu painel e seus docs
---

<Info>
  Esta é a documentação para o Handshake de Sessão Compartilhada**Personalization**. O Handshake de Sessão Compartilhada não está disponível para Autenticação.
</Info>

Este método utiliza as informações de autenticação da sessão já armazenadas no navegador do seu usuário para criar uma experiência de documentação perfeita.

## Implementação

<Steps>
  <Step title="Crie sua API de Informações">
    Crie um endpoint de API que use autenticação de sessão para identificar usuários e responda com uma carga útil JSON seguindo o formato[User](../sending-data).

    Se o domínio da API não*corresponder exatamente*ao domínio dos docs:

    * Adicione o domínio dos docs ao cabeçalho`Access-Control-Allow-Origin`da sua API (não deve ser`*`)
    * Certifique-se de que o cabeçalho`Access-Control-Allow-Credentials`da sua API seja`true`

    <Warning>
      Essas opções de CORS só precisam ser habilitadas no*único endpoint*responsável por retornar informações do usuário. Não recomendamos habilitar essas opções em todos os endpoints do painel.
    </Warning>
  </Step>

  <Step title="Configure suas configurações de Personalização">
    Vá para suas[dashboard settings](https://dashboard.mintlify.com/products/authentication)e adicione a URL da API e sua URL de Login às suas configurações de Personalização.
  </Step>
</Steps>

## Exemplos

### Painel no subdomínio, docs no subdomínio

Tenho um painel em`dash.foo.com`, que usa autenticação de sessão baseada em cookies. Minhas rotas de API do painel estão hospedadas em`dash.foo.com/api`. Quero configurar a autenticação para meus docs hospedados em`docs.foo.com`.

Para configurar a autenticação com o Mintlify, crio outro endpoint do painel`dash.foo.com/api/docs/user-info`que identifica o usuário usando autenticação de sessão e responde com seus dados personalizados de acordo com a especificação do Mintlify. Em seguida, adiciono`https://docs.foo.com`à lista de permissões`Access-Control-Allow-Origin`allow-list**apenas para esta rota**, e garanto que minha configuração`Access-Control-Allow-Credentials`esteja definida como`true` **apenas para esta rota**.

Em seguida, vou para as configurações do painel e insiro`https://dash.foo.com/api/docs/user-info`no campo URL da API.

### Painel no subdomínio, docs na raiz

Tenho um painel em`dash.foo.com`, que usa autenticação de sessão baseada em cookies. Minhas rotas de API do painel estão hospedadas em`dash.foo.com/api`. Quero configurar a autenticação para meus docs hospedados em`foo.com/docs`.

Para configurar a autenticação com o Mintlify, crio outro endpoint do painel`dash.foo.com/api/docs/user-info`que identifica o usuário usando autenticação de sessão e responde com seus dados personalizados de acordo com a especificação do Mintlify. Em seguida, adiciono`https://foo.com`à lista de permissões`Access-Control-Allow-Origin`allow-list**apenas para esta rota**, e garanto que minha configuração`Access-Control-Allow-Credentials`esteja definida como`true` **apenas para esta rota**.

Em seguida, vou para as configurações do painel e insiro`https://dash.foo.com/api/docs/user-info`no campo URL da API.

### Painel na raiz, docs na raiz

Tenho um painel em`foo.com/dashboard`, que usa autenticação de sessão baseada em cookies. Minhas rotas de API do painel estão hospedadas em`foo.com/api`. Quero configurar a autenticação para meus docs hospedados em`foo.com/docs`.

Para configurar a autenticação com o Mintlify, crio outro endpoint do painel`foo.com/api/docs/user-info`que identifica o usuário usando autenticação de sessão e responde com seus dados personalizados de acordo com a especificação do Mintlify.

Em seguida, vou para as configurações do painel e insiro`https://foo.com/api/docs/user-info`no campo URL da API.
