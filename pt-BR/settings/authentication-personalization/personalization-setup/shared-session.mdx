---
title: Handshake de Sessão Compartilhada
description: Compartilhe sessões de usuário perfeitamente entre seu painel e sua documentação
---

<Info>
  Esta é a documentação para o Handshake de Sessão Compartilhada**Personalização** Handshake. O Handshake de Sessão Compartilhada não está disponível para Autenticação.
</Info>

Este método utiliza as informações de autenticação de sessão já armazenadas no navegador do usuário para criar uma experiência de documentação perfeita.

## Implementação

<Steps>
  <Step title="Create your Info API">
    Crie um endpoint de API que use autenticação de sessão para identificar usuários e responda com uma carga JSON seguindo o formato[Usuário](../sending-data).

    Se o domínio da API não*corresponder exatamente* ao domínio da documentação:

    * Adicione o domínio da documentação ao cabeçalho`Access-Control-Allow-Origin` da sua API (não deve ser`*`)
    * Certifique-se de que o cabeçalho da sua API`Access-Control-Allow-Credentials` esteja`true`

    <Warning>
      Essas opções CORS só precisam ser habilitadas no*único endpoint* responsável por retornar informações do usuário. Não recomendamos habilitar essas opções em todos os endpoints do painel.
    </Warning>
  </Step>

  <Step title="Configure your Personalization settings">
    Vá para suas[configurações do painel](https://dashboard.mintlify.com/products/authentication) e adicione a URL da API e sua URL de Login às suas configurações de Personalização.
  </Step>
</Steps>

## Exemplos

### Painel no subdomínio, documentação no subdomínio

Tenho um painel em`dash.foo.com`, que usa autenticação de sessão baseada em cookies. Minhas rotas de API do painel estão hospedadas em`dash.foo.com/api`. Quero configurar autenticação para minha documentação hospedada em`docs.foo.com`.

Para configurar a autenticação com o Mintlify, crio outro endpoint do painel`dash.foo.com/api/docs/user-info` que identifica o usuário usando autenticação de sessão e responde com seus dados personalizados de acordo com a especificação do Mintlify. Então adiciono`https://docs.foo.com` à`Access-Control-Allow-Origin` lista de permissões**apenas para esta rota**, e garanto que minha`Access-Control-Allow-Credentials` configuração esteja definida como`true` **apenas para esta rota**.

Então vou às configurações do painel e insiro`https://dash.foo.com/api/docs/user-info` no campo URL da API.

### Painel no subdomínio, documentação na raiz

Tenho um painel em`dash.foo.com`, que usa autenticação de sessão baseada em cookies. Minhas rotas de API do painel estão hospedadas em`dash.foo.com/api`. Quero configurar a autenticação para meus documentos hospedados em `foo.com/docs`.

Para configurar a autenticação com Mintlify, eu crio outro endpoint do painel `dash.foo.com/api/docs/user-info` que identifica o usuário usando autenticação de sessão e responde com seus dados personalizados de acordo com a especificação do Mintlify. Em seguida, adiciono `https://foo.com` à `Access-Control-Allow-Origin` lista de permissões **apenas para esta rota**, e garanto que minha `Access-Control-Allow-Credentials` configuração esteja definida como `true` **apenas para esta rota**.

Em seguida, vou para as configurações do painel e insiro `https://dash.foo.com/api/docs/user-info` no campo URL da API.

### Painel na raiz, documentos na raiz

Tenho um painel em `foo.com/dashboard`, que usa autenticação de sessão baseada em cookies. Minhas rotas de API do painel estão hospedadas em `foo.com/api`. Quero configurar a autenticação para meus documentos hospedados em `foo.com/docs`.

Para configurar a autenticação com Mintlify, eu crio outro endpoint do painel `foo.com/api/docs/user-info` que identifica o usuário usando autenticação de sessão e responde com seus dados personalizados de acordo com a especificação do Mintlify.

Em seguida, vou para as configurações do painel e insiro `https://foo.com/api/docs/user-info` no campo URL da API.
