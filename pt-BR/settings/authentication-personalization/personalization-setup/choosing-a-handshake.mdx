---
- title: Escolhendo um Handshake
- description: Como decidir qual método de Handshake é certo para seus docs
---

<Info>
  Esta é a documentação para os métodos de **Personalização** do Handshake. A Autenticação oferece um [conjunto diferente de métodos Handshake](/pt-BR/settings/authentication-personalization/authentication-setup/choosing-a-handshake).
</Info>

Antes que seus usuários possam acessar conteúdo personalizado, eles devem ser autenticados. Mintlify suporta três métodos de Handshake de Personalização:

1. **Sessão Compartilhada**: Utilize o mesmo token de sessão usado pelo seu painel para autenticar usuários.
2. **JWT**: Use seu próprio fluxo de login para enviar informações do usuário para seus documentos via JWT na URL.
3. **OAuth 2.0**: Integre com seu servidor OAuth para permitir o login do usuário via fluxo PKCE.

## Pré-requisitos

<Tabs>
  <Tab title="Sessão Compartilhada">
    * Você tem um painel ou outro portal de usuário hospedado em seu domínio.
    * As credenciais de sessão dos seus usuários são armazenadas como cookies.
    * Você pode criar um novo endpoint de API na mesma origem ou em um subdomínio do seu painel.
      * Se seu painel estiver em `foo.com`, a **API URL** deve começar com `foo.com` ou `*.foo.com`
      * Se seu painel estiver em `dash.foo.com`, a **API URL** deve começar com `dash.foo.com` ou `*.dash.foo.com`
    * Seus documentos estão hospedados no mesmo domínio que seu painel.
      * Se seu painel estiver em `foo.com`, seus **docs** deve ser hospedado em `foo.com` ou `*.foo.com`
      * Se o seu painel estiver em `*.foo.com`, seus **docs** devem ser hospedados em `foo.com` ou `*.foo.com`
  </Tab>

  <Tab title="JWT">
    * Você tem algum fluxo de login existente.
    * Você pode adicionar uma etapa final neste fluxo de login que cria um JWT e redireciona para os docs.
  </Tab>

  <Tab title="OAuth 2.0">
    * Você tem um servidor OAuth existente que suporta o fluxo PKCE.
    * Você pode criar um novo endpoint de API que pode ser acessado pelo token de acesso OAuth retornado.
  </Tab>
</Tabs>

## Prós e Contras

<Tabs>
  <Tab title="Sessão Compartilhada">
    Pros:

    * Usuários que estão logados no seu painel são automaticamente logados nos seus docs
    * As sessões dos seus usuários são persistentes, o que significa que você pode atualizar dados sem exigir login adicional
    * Configuração mínima necessária

    Cons:

    * Seus docs farão uma solicitação ao seu backend, o que pode ser indesejável
    * Você deve ter um painel que usa autenticação de sessão
    * Configuração CORS geralmente é necessária
  </Tab>

  <Tab title="JWT">
    Pros:

    * Risco reduzido de abuso do endpoint da API
    * Configuração CORS zero
    * Sem restrições nas URLs da API

    Cons:

    * Deve ser capaz de se conectar ao seu fluxo de login existente
    * As sessões do painel e a autenticação dos docs são completamente desacopladas, então os usuários precisarão fazer login no seu painel e nos seus docs separadamente
    * Toda vez que você quiser atualizar os dados do usuário, seus usuários devem fazer login novamente nos seus docs
      * Se os dados dos seus usuários mudam frequentemente, você deve exigir que seus usuários façam login frequentemente ou arriscar ter dados desatualizados nos docs
      * Se os dados dos seus usuários raramente mudam, isso não deve ser um problema
  </Tab>

  <Tab title="OAuth 2.0">
    Pros:

    * Padrão de segurança elevado
    * Sem restrições nas URLs da API

    Cons:

    * Requer trabalho significativo se estiver configurando o servidor OAuth pela primeira vez
    * As sessões do painel e a autenticação dos docs são completamente desacopladas, então os usuários precisarão fazer login no seu painel e nos seus docs separadamente
    * Pode ser excessivo para algumas aplicações
  </Tab>
</Tabs>
