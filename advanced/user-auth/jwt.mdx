---
title: 'JWT Auth'
description: 'Use a customized login flow to authenticate users'
---

Use your own login flow to authenticate users via JWT if you want to keep your dashboard and docs separate or don't have a dashboard.

## Implementation

<Steps>
  <Step title="Generate a private key">
    Generate a private key in your [Mintlify dashboard settings](https://dashboard.mintlify.com/mintlify/mintlify/settings/deployment/user-authentication) and store it securely.
  </Step>
  <Step title="Create a login flow">
    - Authenticate the user
    - Create and sign a JWT with user info using ES256 algorithm
    - Redirect to docs with JWT in URL hash
  </Step>
  <Step title="Configure settings">
    Add your login URL to [User Auth settings](https://dashboard.mintlify.com/mintlify/mintlify/settings/deployment/user-authentication).
  </Step>
</Steps>

## Example Implementation

```ts
import * as jose from 'jose';
import { Request, Response } from 'express';

const TWO_WEEKS_IN_MS = 1000 * 60 * 60 * 24 * 7 * 2;

const signingKey = await jose.importPKCS8(process.env.MINTLIFY_PRIVATE_KEY, 'ES256');

export async function handleRequest(req: Request, res: Response) {
  const userInfo = {
    expiresAt: Math.floor((Date.now() + TWO_WEEKS_IN_MS) / 1000),
    groups: res.locals.user.groups,
    content: {
      firstName: res.locals.user.firstName,
      lastName: res.locals.user.lastName,
    },
  };

  const jwt = await new jose.SignJWT(userInfo)
    .setProtectedHeader({ alg: 'ES256' })
    .setExpirationTime('10 s')
    .sign(signingKey);

  return res.redirect(`https://docs.foo.com#${jwt}`);
}
```

For redirects with specific anchors, use: `https://docs.foo.com/page#jwt={SIGNED_JWT}&anchor={ANCHOR}`