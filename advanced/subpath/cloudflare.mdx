---
title: "Cloudflare"
description: "Host documentation at a /docs subpath using Cloudflare Workers"
---

import SubpathGatingSnippet from "/snippets/custom-subpath-gating.mdx";

<SubpathGatingSnippet platform="Cloudflare" />

## Quick Setup

1. Create a new Worker in Cloudflare's `Workers & Pages` dashboard.

2. Add your custom domain in the worker's `Settings > Triggers > Add Custom Domain` section. Add both `www` and non-`www` versions of your domain.

3. In the worker's code editor, paste the following script:

```javascript
addEventListener("fetch", (event) => {
  event.respondWith(handleRequest(event.request));
});

async function handleRequest(request) {
  try {
    const urlObject = new URL(request.url);
    // If the request is to the docs subdirectory
    if (/^\/docs/.test(urlObject.pathname)) {
      // Then Proxy to Mintlify
      const DOCS_URL = "[SUBDOMAIN].mintlify.dev";
      const CUSTOM_URL = "[YOUR_DOMAIN]";

      let url = new URL(request.url);
      url.hostname = DOCS_URL;

      let proxyRequest = new Request(url, request);

      proxyRequest.headers.set("Host", DOCS_URL);
      proxyRequest.headers.set("X-Forwarded-Host", CUSTOM_URL);
      proxyRequest.headers.set("X-Forwarded-Proto", "https");

      return await fetch(proxyRequest);
    }
  } catch (error) {
    // if no action found, play the regular request
    return await fetch(request);
  }
}
```

<Tip>
  Replace `[SUBDOMAIN]` with your Mintlify subdomain and `[YOUR_DOMAIN]` with your website's base URL.
</Tip>

4. Click `Deploy` and wait for the changes to propagate (this may take a few hours).

Need help? [Contact our support team](mailto:sales@mintlify.com) for assistance with custom subdirectory setup.