---
- title: AWS Route 53 dan Cloudfront
- sidebarTitle: AWS
- description: Host dokumentasi di subdirektori /docs menggunakan layanan AWS
---

## Buat Distribusi Cloudfront

Navigasi ke [Cloudfront](https://aws.amazon.com/cloudfront) di dalam konsol AWS dan klik pada `Create distribution`

<Frame>
  ![Cloudfront Create Distribution](/images/cloudfront/create-distribution.png)
</Frame>

Untuk Origin domain, masukkan `[SUBDOMAIN].mintlify.dev` di mana `[SUBDOMAIN]` adalah subdomain unik proyek. Klik pada `Use: [SUBDOMAIN].mintlify.dev`

<Frame>![Cloudfront Origin name](/images/cloudfront/origin-name.png)</Frame>

Untuk **Cache key and origin requests**, pilih `Caching Optimized`.

<Frame>
  ![Cloudfront Caching policy](/images/cloudfront/caching-policy.png)
</Frame>

Dan untuk **Web Application Firewall (WAF)**, aktifkan perlindungan keamanan

<Frame>
  ![Cloudfront Caching
  policy](/images/cloudfront/enable-security-protections.png)
</Frame>

Pengaturan lainnya harus default. Klik `Create distribution`.

## Tambahkan Origin Default

Setelah membuat distribusi, navigasi ke tab `Origins`.

<Frame>![Cloudfront Origins](/images/cloudfront/origins.png)</Frame>

Kita ingin menemukan URL staging yang mencerminkan domain utama (example.com). Ini sangat bervariasi tergantung pada bagaimana landing page Anda di-host.

<Info>
  Misalnya, jika landing page Anda di-host di Webflow, Anda dapat menggunakan URL staging Webflow. Ini akan terlihat seperti `.webflow.io`.

  Jika Anda menggunakan Vercel, Anda menggunakan domain `.vercel.app` yang tersedia untuk setiap proyek.
</Info>

<Note>
  Jika Anda tidak yakin bagaimana cara mendapatkan URL staging untuk landing page Anda, [contact
  support](mailto:support@mintlify.com) dan kami akan dengan senang hati membantu
</Note>

Setelah Anda memiliki URL staging, milik kami misalnya adalah [mintlify-landing-page.vercel.app](https://mintlify-landing-page.vercel.app), buat Origin baru dan tambahkan sebagai **Origin domain**.

<Frame>
  ![Cloudfront Default Origins](/images/cloudfront/default-origin.png)
</Frame>

Pada titik ini, Anda seharusnya memiliki dua Origin - satu dengan `[SUBDOMAIN].mintlify.app` dan yang lain dengan URL staging.

## Atur Behaviors

Behaviors di Cloudfront memungkinkan kontrol atas logika subpath. Secara garis besar, kita ingin membuat logika berikut.

* **Jika pengguna mendarat di /docs**, pergi ke `[SUBDOMAIN].mintlify.dev`
* **Jika pengguna mendarat di halaman lain**, pergi ke landing page saat ini

Kita akan membuat tiga behaviors dengan mengklik tombol `Create behavior`.

### `/docs/*`

Behavior pertama harus memiliki **Path pattern** dari `/docs/*` dengan **Origin dan grup origin** menunjuk ke `.mintlify.dev` URL (dalam kasus kita `acme.mintlify.dev`)

<Frame>![Cloudfront Behavior 1](/images/cloudfront/behavior-1.png)</Frame>

Untuk **Kebijakan cache**, pilih `CachingOptimized` dan buat perilaku.

### `/docs`

Perilaku kedua harus sama dengan yang pertama tetapi dengan **Pola path** dari `/docs` dan **Origin dan grup origin** menunjuk ke `.mintlify.dev` URL yang sama.

<Frame>![Cloudfront Behavior 2](/images/cloudfront/behavior-2.png)</Frame>

### `Default (*)`

Terakhir, kita akan mengedit `Default (*)` perilaku.

<Frame>
  ![Cloudfront Behavior Default 1](/images/cloudfront/default-behavior-1.png)
</Frame>

Kita akan mengubah **Origin dan grup origin** perilaku default ke URL staging (dalam kasus kita `mintlify-landing-page.vercel.app`).

<Frame>
  ![Cloudfront Behavior Default 2](/images/cloudfront/default-behavior-2.png)
</Frame>

Klik pada `Save changes`.

## Pratinjau Distribusi

Anda sekarang dapat menguji apakah distribusi Anda telah diatur dengan benar dengan pergi ke tab `General` dan mengunjungi **Nama domain Distribusi** URL.

<Frame>
  ![Cloudfront Preview
  distribution](/images/cloudfront/preview-distribution.png)
</Frame>

Semua halaman harus mengarah ke halaman utama Anda, tetapi jika Anda menambahkan `/docs` ke URL, Anda seharusnya melihatnya menuju ke instansi dokumentasi Mintlify.

## Menghubungkannya dengan Route53

Sekarang, kita akan membawa fungsionalitas distribusi Cloudfront ke domain utama Anda.

<Note>
  Untuk bagian ini, Anda juga dapat merujuk ke panduan resmi AWS tentang [Mengkonfigurasi Amazon Route 53 untuk mengarahkan lalu lintas ke distribusi CloudFront](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-to-cloudfront-distribution.html#routing-to-cloudfront-distribution-config)
</Note>

Navigasi ke [Route53](https://aws.amazon.com/route53) di dalam konsol AWS, dan klik ke `Hosted zone` untuk domain utama Anda. Klik pada `Create record`

<Frame>
  ![Route 53 create record](/images/cloudfront/route53-create-record.png)
</Frame>

Beralih `Alias` dan kemudian **Arahkan lalu lintas ke** opsi `Alias to CloudFront distribution`.

<Frame>
  ![Route 53 create record alias](/images/cloudfront/create-record-alias.png)
</Frame>

Klik `Create records`.

<Note>
  Anda mungkin perlu menghapus catatan A yang ada jika saat ini ada.
</Note>

Dan voila! Anda seharusnya dapat memiliki dokumentasi Anda disajikan di `/docs` untuk domain utama Anda.
