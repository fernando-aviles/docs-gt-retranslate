---
- title: Shared Session Handshake
- description: Berbagi sesi pengguna secara mulus antara dashboard dan docs Anda
---

<Info>
  Ini adalah dokumentasi untuk Shared Session **Personalization** Handshake. Shared Session Handshake tidak tersedia untuk Authentication.
</Info>

Metode ini menggunakan info autentikasi sesi yang sudah tersimpan di browser pengguna Anda untuk menciptakan pengalaman dokumentasi yang mulus.

## Implementasi

<Steps>
  <Step title="Buat API Info Anda">
    Buat endpoint API yang menggunakan autentikasi sesi untuk mengidentifikasi pengguna, dan merespons dengan payload JSON mengikuti format [User](../sending-data).

    Jika domain API tidak *persis sama* dengan domain docs:

    * Tambahkan domain docs ke header `Access-Control-Allow-Origin` API Anda (tidak boleh `*`)
    * Pastikan header `Access-Control-Allow-Credentials` API Anda adalah `true`

    <Warning>
      Opsi CORS ini hanya perlu diaktifkan pada *endpoint tunggal* yang bertanggung jawab untuk mengembalikan informasi pengguna. Kami tidak merekomendasikan untuk mengaktifkan opsi ini pada semua endpoint dashboard.
    </Warning>
  </Step>

  <Step title="Konfigurasi pengaturan Personalization Anda">
    Pergi ke [pengaturan dashboard](https://dashboard.mintlify.com/products/authentication) Anda dan tambahkan URL API dan URL Login Anda ke pengaturan Personalization Anda.
  </Step>
</Steps>

## Contoh

### Dashboard di subdomain, docs di subdomain

Saya memiliki dashboard di `dash.foo.com`, yang menggunakan autentikasi sesi berbasis cookie. Rute API dashboard saya di-host di `dash.foo.com/api`. Saya ingin mengatur autentikasi untuk docs saya yang di-host di `docs.foo.com`.

Untuk mengatur autentikasi dengan Mintlify, saya membuat endpoint dashboard lain `dash.foo.com/api/docs/user-info` yang mengidentifikasi pengguna menggunakan auth sesi, dan merespons dengan data kustom mereka sesuai dengan spesifikasi Mintlify. Kemudian saya menambahkan `https://docs.foo.com` ke daftar izin `Access-Control-Allow-Origin` **hanya untuk rute ini**, dan memastikan konfigurasi `Access-Control-Allow-Credentials` saya diatur ke `true` **hanya untuk rute ini**.

Kemudian saya pergi ke pengaturan dashboard dan memasukkan `https://dash.foo.com/api/docs/user-info` untuk bidang URL API.

### Dashboard di subdomain, docs di root

Saya memiliki dashboard di `dash.foo.com`, yang menggunakan autentikasi sesi berbasis cookie. Rute API dashboard saya di-host di `dash.foo.com/api`. Saya ingin mengatur autentikasi untuk docs saya yang di-host di `foo.com/docs`.

Untuk mengatur autentikasi dengan Mintlify, saya membuat endpoint dashboard lain `dash.foo.com/api/docs/user-info` yang mengidentifikasi pengguna menggunakan auth sesi, dan merespons dengan data kustom mereka sesuai dengan spesifikasi Mintlify. Kemudian saya menambahkan `https://foo.com` ke daftar izin `Access-Control-Allow-Origin` **hanya untuk rute ini**, dan memastikan konfigurasi `Access-Control-Allow-Credentials` saya diatur ke `true` **hanya untuk rute ini**.

Kemudian saya pergi ke pengaturan dashboard dan memasukkan `https://dash.foo.com/api/docs/user-info` untuk bidang URL API.

### Dashboard di root, docs di root

Saya memiliki dashboard di `foo.com/dashboard`, yang menggunakan autentikasi sesi berbasis cookie. Rute API dashboard saya di-host di `foo.com/api`. Saya ingin mengatur autentikasi untuk docs saya yang di-host di `foo.com/docs`.

Untuk mengatur autentikasi dengan Mintlify, saya membuat endpoint dashboard lain `foo.com/api/docs/user-info` yang mengidentifikasi pengguna menggunakan auth sesi, dan merespons dengan data kustom mereka sesuai dengan spesifikasi Mintlify.

Kemudian saya pergi ke pengaturan dashboard dan memasukkan `https://foo.com/api/docs/user-info` untuk bidang URL API.
