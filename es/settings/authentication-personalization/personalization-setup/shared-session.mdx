---
- title: Handshake de Sesión Compartida
- description: Comparte sin problemas las sesiones de usuario entre tu dashboard y tus docs
---

<Info>
  Esta es la documentación para el Handshake de Sesión Compartida**Personalization**. El Handshake de Sesión Compartida no está disponible para Autenticación.
</Info>

Este método utiliza la información de autenticación de sesión ya almacenada en el navegador de tu usuario para crear una experiencia de documentación sin problemas.

## Implementación

<Steps>
  <Step title="Crea tu API de Información">
    Crea un endpoint de API que utilice la autenticación de sesión para identificar usuarios, y responda con una carga útil JSON siguiendo el formato[User](../sending-data).

    Si el dominio de la API no*coincide exactamente*con el dominio de los docs:

    * Añade el dominio de los docs al encabezado`Access-Control-Allow-Origin`de tu API (no debe ser`*`)
    * Asegúrate de que el encabezado`Access-Control-Allow-Credentials`de tu API sea`true`

    <Warning>
      Estas opciones CORS solo necesitan ser habilitadas en el*único endpoint*responsable de devolver la información del usuario. No recomendamos habilitar estas opciones en todos los endpoints del dashboard.
    </Warning>
  </Step>

  <Step title="Configura tus ajustes de Personalización">
    Ve a tus[ajustes del dashboard](https://dashboard.mintlify.com/products/authentication)y añade la URL de la API y tu URL de Inicio de Sesión a tus ajustes de Personalización.
  </Step>
</Steps>

## Ejemplos

### Dashboard en subdominio, docs en subdominio

Tengo un dashboard en`dash.foo.com`, que utiliza autenticación de sesión basada en cookies. Mis rutas de API del dashboard están alojadas en`dash.foo.com/api`. Quiero configurar la autenticación para mis docs alojados en`docs.foo.com`.

Para configurar la autenticación con Mintlify, creo otro endpoint del dashboard`dash.foo.com/api/docs/user-info`que identifica al usuario usando autenticación de sesión, y responde con sus datos personalizados según la especificación de Mintlify. Luego añado`https://docs.foo.com`a la lista de permitidos`Access-Control-Allow-Origin`Access-Control-Allow-Origin**solo para esta ruta**, y aseguro que mi configuración`Access-Control-Allow-Credentials`Access-Control-Allow-Credentials`true` **solo para esta ruta**.

Luego voy a los ajustes del dashboard e introduzco`https://dash.foo.com/api/docs/user-info`para el campo URL de la API.

### Dashboard en subdominio, docs en raíz

Tengo un dashboard en`dash.foo.com`, que utiliza autenticación de sesión basada en cookies. Mis rutas de API del dashboard están alojadas en`dash.foo.com/api`. Quiero configurar la autenticación para mis docs alojados en`foo.com/docs`.

Para configurar la autenticación con Mintlify, creo otro endpoint del dashboard`dash.foo.com/api/docs/user-info`que identifica al usuario usando autenticación de sesión, y responde con sus datos personalizados según la especificación de Mintlify. Luego añado`https://foo.com`a la lista de permitidos`Access-Control-Allow-Origin`Access-Control-Allow-Origin**solo para esta ruta**, y aseguro que mi configuración`Access-Control-Allow-Credentials`Access-Control-Allow-Credentials`true` **solo para esta ruta**.

Luego voy a los ajustes del dashboard e introduzco`https://dash.foo.com/api/docs/user-info`para el campo URL de la API.

### Dashboard en raíz, docs en raíz

Tengo un dashboard en`foo.com/dashboard`, que utiliza autenticación de sesión basada en cookies. Mis rutas de API del dashboard están alojadas en`foo.com/api`. Quiero configurar la autenticación para mis docs alojados en`foo.com/docs`.

Para configurar la autenticación con Mintlify, creo otro endpoint del dashboard`foo.com/api/docs/user-info`que identifica al usuario usando autenticación de sesión, y responde con sus datos personalizados según la especificación de Mintlify.

Luego voy a los ajustes del dashboard e introduzco`https://foo.com/api/docs/user-info`para el campo URL de la API.
