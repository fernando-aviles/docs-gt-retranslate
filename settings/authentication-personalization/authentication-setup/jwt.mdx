---
title: 'JWT Handshake'
description: 'How to set up custom user login for your docs'
---

<Info>
  This guide explains how to set up JWT **Authentication** for logging in users. If you're looking for JWT **Personalization** setup instead, check out [this guide](/settings/authentication-personalization/personalization-setup/jwt).
</Info>

Want to use your own login system instead of a dashboard? You can do this by using something called a JWT (JSON Web Token) that gets added to the website URL. This method lets you keep your docs separate from your main dashboard, or work without a dashboard entirely.

## How to Set It Up

<Steps>
  <Step title="Get your security key">
    First, visit your [Mintlify dashboard settings](https://dashboard.mintlify.com/products/authentication) and create a private key. Think of this like a special password - keep it somewhere safe where only your website's backend can access it.
  </Step>
  <Step title="Build your login system">
    Create a login process that follows these steps:
    - Checks if the user is allowed to log in
    - Makes a JWT that contains the user's information (following the [User](../sending-data) format)
    - Signs (secures) the JWT using your private key and the EdDSA method
    - Creates a link back to your docs that includes the JWT (it should look like: `/login/jwt-callback` plus the JWT)
  </Step>
  <Step title="Set up your login settings">
    Go back to your [Mintlify dashboard settings](https://dashboard.mintlify.com/products/authentication) and add the web address where users will start the login process.
  </Step>
</Steps>

## Real-World Example

Let's say you have documentation at `docs.foo.com` and you want to keep it separate from your main website's dashboard (or maybe you don't have a dashboard at all).

Here's what you'll do:
1. Get a JWT secret key from your Mintlify dashboard
2. Create a login page at `https://foo.com/docs-login`
3. After a user successfully logs in, create a JWT with their information
4. Use your secret key to secure the JWT
5. Send the user to `https://docs.foo.com/login/jwt-callback#{SIGNED_JWT}`
6. Add `https://foo.com/docs-login` to your Mintlify dashboard settings

Here's what the code looks like:

<CodeGroup>
```ts TypeScript
import * as jose from 'jose';
import { Request, Response } from 'express';

const TWO_WEEKS_IN_MS = 1000 * 60 * 60 * 24 * 7 * 2;

const signingKey = await jose.importPKCS8(process.env.MINTLIFY_PRIVATE_KEY, 'EdDSA');

export async function handleRequest(req: Request, res: Response) {
  const user = {
    expiresAt: Math.floor((Date.now() + TWO_WEEKS_IN_MS) / 1000), // 2 week session expiration
    groups: res.locals.user.groups,
    content: {
      firstName: res.locals.user.firstName,
      lastName: res.locals.user.lastName,
    },
  };

  const jwt = await new jose.SignJWT(user)
    .setProtectedHeader({ alg: 'EdDSA' })
    .setExpirationTime('10 s') // 10 second JWT expiration
    .sign(signingKey);

  return res.redirect(`https://docs.foo.com/login/jwt-callback#${jwt}`);
}
```

```python Python
import jwt # pyjwt
import os

from datetime import datetime, timedelta
from fastapi.responses import RedirectResponse

private_key = os.getenv(MINTLIFY_JWT_PEM_SECRET_NAME, '')

@router.get('/auth')
async def return_mintlify_auth_status(current_user):
  jwt_token = jwt.encode(
    payload={
      'exp': int((datetime.now() + timedelta(seconds=10)).timestamp()),    # 10 second JWT expiration
      'expiresAt': int((datetime.now() + timedelta(weeks=2)).timestamp()), # 1 week session expiration
      'groups': ['admin'] if current_user.is_admin else [],
      'content': {
        'firstName': current_user.first_name,
        'lastName': current_user.last_name,
      },
    },
    key=private_key,
    algorithm='EdDSA'
  )

  return RedirectResponse(url=f'https://docs.foo.com/login/jwt-callback#{jwt_token}', status_code=302)
```
</CodeGroup>
</fileContent>
</invoke>