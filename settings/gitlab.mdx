---
title: "GitLab"
description: "Sync your docs with a GitLab repo"
icon: "gitlab"
---

We use a combination of Access tokens and Webhooks to authenticate and sync
changes between GitLab and Mintlify.

- We use Access tokens to pull information from GitLab.
- We use Webhooks so GitLab can notify Mintlify when changes are made.
  - This allows Mintlify to create preview deployments when a MR is created.

## Set up the connection

<Steps>
  <Step title="Find your project ID">
    Within your GitLab project, navigate to `Settings` > `General` and find the `Project ID`.
    <Frame>
      <img src="/images/gitlab/gitlab-project-id.png" />
    </Frame>
  </Step>
  <Step title="Generate an access token">
    a. Navigate to `Settings` > `Access Tokens`.

    b. Select `Add new token`.
      1. Name the token "Mintlify".
      2. If you have a private repo, you must set the role as `Maintainer`.
      3. Choose `api` and `read_api` for the scopes.

    c. Finally click `Create project access token` and copy the token.

    <Frame>
      <img src="/images/gitlab/gitlab-project-access-token.png" />
    </Frame>

  </Step>
  <Step title="Set up the connection">
    Within the [Mintlify dashboard](https://dashboard.mintlify.com/settings/deployment/git-settings), add the project ID and access token from the previous steps alongside the other configurations. Click "Save Changes" when you're done.
    <Frame>
      <img src="/images/gitlab/gitlab-config.png" />
    </Frame>
  </Step>
</Steps>

## Bypassing the Onboarding Flow for GitLab

Since account creation is currently limited to GitHub, you'll need to use a workaround to connect your GitLab repository. Follow these steps to bypass the standard GitHub-only onboarding flow:

<Steps>
  <Step title="Skip the first onboarding step">
    When you first create your Mintlify account, you'll see an onboarding flow that asks you to connect a GitHub repository. Skip this initial step.
    <Frame>
      <img src="/images/gitlab/skip-onboarding-step.png" alt="Skipping the first onboarding step that asks for GitHub repository connection" />
    </Frame>
  </Step>
  <Step title="Enter placeholder repository information">
    In the second step of the onboarding process, enter the following placeholder information:
    - Organization: `mintlify`
    - Repository: `starter`
    
    This will allow you to proceed through the onboarding without connecting an actual GitHub repository.
    <Frame>
      <img src="/images/gitlab/placeholder-repo-info.png" alt="Entering 'mintlify' as organization and 'starter' as repository name in the onboarding form" />
    </Frame>
  </Step>
  <Step title="Complete the onboarding">
    Click through the remaining onboarding steps to reach your Mintlify dashboard.
    <Frame>
      <img src="/images/gitlab/complete-onboarding.png" alt="Clicking through the final onboarding steps to reach the Mintlify dashboard" />
    </Frame>
  </Step>
  <Step title="Navigate to GitLab settings">
    Once you're in the dashboard, navigate to the [GitLab settings page](https://dashboard.mintlify.com/settings/deployment/git-settings) and connect your actual GitLab repository using the project ID and access token from the previous section.
    <Frame>
      <img src="/images/gitlab/navigate-gitlab-settings.png" alt="Navigating to the GitLab settings page in the Mintlify dashboard" />
    </Frame>
  </Step>
</Steps>

## Create the webhook

Webhooks allow us to receive events when changes are made so that we can
automatically trigger deployments.

<Steps>
  <Step title="Navigate to Settings > Webhooks and click 'Add new Webhook'">
    <Frame>
      <img src="/images/gitlab/gitlab-webhook.png" />
    </Frame>
  </Step>
  <Step title="Set up URL and webhook">
    In the "URL" field, enter the endpoint `https://leaves.mintlify.com/gitlab-webhook` and name the webhook "Mintlify".

  </Step>
  <Step title="Paste token">
    Paste the Webhook token generated after setting up the connection.
    <Frame>
      <img src="/images/gitlab/gitlab-show-webtoken.png" />
    </Frame>
  </Step>
  <Step title="Select events">
    Select the events you want to trigger the webhook:
      - Push events (All branches)
      - Merge requests events
      
    When you're done it should look like this:
    <Frame>
      <img src="/images/gitlab/gitlab-project-webtoken.png" />
    </Frame>
  </Step>
  <Step title="Test the Webhook">
    After creating the Webhook, click the "Test" dropdown and select "Push events" to send a sample payload to ensure it's configured correctly. It'll say "Hook executed successfully: HTTP 200" if configured correctly.

    This will help you verify that everything is working correctly and that your documentation will sync properly with your GitLab repository.
    <Frame>
      <img src="/images/gitlab/gitlab-project-webtoken-test.png" />
    </Frame>

  </Step>
</Steps>

<Note>
  Reach out to the Mintlify team if you need help. Contact us
  [here](https://mintlify.com/enterprise).
</Note>

[git-settings]: https://dashboard.mintlify.com/settings/deployment/git-settings