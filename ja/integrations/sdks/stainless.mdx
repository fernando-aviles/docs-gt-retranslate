---
title: Stainless
description: APIプレイグラウンドでSDKのサンプルスニペットを自動化
---

MintlifyのOpenAPIサポートをAPIリファレンスドキュメントに使用している場合、Stainlessの設定に以下を追加してください：

```yaml openapi.stainless.yml
openapi:
  code_samples: mintlify
```

Mintlifyドキュメントで[OpenAPIのセットアップ](/api-playground/openapi/setup#in-the-repo)を設定します。Stainlessを統合するには、OpenAPI仕様をStainlessにアップロードするGitHub Actionを変更して、Stainlessで強化されたOpenAPI仕様をドキュメントリポジトリにプッシュするように以下のように修正します：

```yaml
name: Upload OpenAPI spec to Stainless and (Mintlify) docs repo

on:
  push:
    branches: [main]
  workflow_dispatch:

jobs:
  stainless:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Push spec and config to Stainless and outputs documented spec
        uses: stainless-api/upload-openapi-spec-action@main
        with:
          input_path: 'path/to/my-company-openapi.json'
          config_path: 'path/to/my-company.stainless.yaml'
          output_path: 'path/to/my-company-openapi.documented.json'
          project_name: 'my-stainless-project'
      - name: Push documented spec to docs repo
        uses: dmnemec/copy_file_to_another_repo_action@main
        env:
          API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
        with:
          source_file: 'config/my-company-openapi.documented.json'
          destination_repo: '{DOCS_REPO_NAME}'
          destination_folder: 'openapi-specs' # (optional) the folder in the destination repository to place the file in, if not the root directory
          user_email: '{EMAIL}' # the email associated with the GH token
          user_name: '{USERNAME}' # the username associated with the GH token
          commit_message: 'Auto-updates from Stainless'
```

これは以下のシークレットが[GitHub Actionsのシークレットにアップロードされている](https://docs.github.com/en/actions/security-guides/using-secrets-in-github-actions)ことを前提としています：

* `secrets.STAINLESS_API_KEY`：StainlessのAPIキー。
* `secrets.API_TOKEN_GITHUB`：GitHub[個人アクセストークン](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens)（ドキュメントリポジトリへのプッシュ権限付き）。
