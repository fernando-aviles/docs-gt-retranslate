---
title: データの送信
description: ドキュメントをパーソナライズするために使用できるユーザーデータの形式
---

Handshakeメソッドに応じて、APIは生のJSONオブジェクトまたは署名付きJWTのいずれかで応答します。データの形式は両方とも同じです：

```tsx
type User = {
  expiresAt?: number;
  groups?: string[];
  content?: Record<string, any>;
  apiPlaygroundInputs?: {
    header?: Record<string, any>;
    query?: Record<string, any>;
    cookie?: Record<string, any>;
    server?: Record<string, string>;
  };
};
```

<ParamField path="expiresAt" type="number">
  この情報が期限切れとなるべき時刻を**エポックからの秒数**で指定します。ユーザーがページを読み込んだ時点で現在時刻がこの値を超えている場合、保存されたデータは削除されます。
  <Warning><b>JWT Handshakeの場合：</b>これは*ではありません*JWTの`exp`クレームと同じ`exp`クレームはJWTが無効とみなされるべき時期を決定し、可能な限り低く設定する必要があります。この場合、10秒以下に設定できます。`expiresAt`フィールドは取得したデータが古くなったとみなされる時期を決定し、1日から数週間の範囲で設定できます。</Warning>
</ParamField>

<ParamField path="groups" type="string[]">
  ユーザーが所属するグループのリスト。これによってどのページをこのユーザーに表示するかが決定されます。これらのグループのいずれかがページのメタデータの`groups`フィールドにリストされている場合、そのページが表示されます。
</ParamField>

<ParamField path="content" type="object">
  MDXコンテンツ内から`user`変数を使用してアクセスできる値のバッグ。例えば、`{ firstName: 'Ronan' }`をcontentフィールドとして提供した場合、MDXで以下のように使用できます：`Good morning, {user.firstName}!`
</ParamField>

<ParamField path="apiPlaygroundInputs" type="object">
  APIプレイグラウンドで事前に入力されるユーザー固有の値。例えば、各顧客が特定のサブドメインでリクエストを行う場合、`{ server: { subdomain: 'foo' } }`を私の`apiPlaygroundInputs`フィールドとして送信すると、この`subdomain`値を持つすべてのAPIページで事前に入力されます。

  <Note>この`header`、`query`、および`cookie`フィールドは、それらが[セキュリティスキーム](https://swagger.io/docs/specification/authentication/)の一部である場合にのみ事前に入力されます。`Authorization`という名前の標準ヘッダーパラメータを作成するだけでは、この機能を有効にするのに十分ではありません。フィールドが事前に入力されるかどうかを確認するには、既存のドキュメントに移動して、フィールドが`Authorization`または`Server`セクションにあるかどうかを確認してください。</Note>
</ParamField>
