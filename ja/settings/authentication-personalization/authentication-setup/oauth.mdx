---
title: OAuth 2.0 Handshake
description: 認可コードフローを介したユーザーログインを有効にするためにOAuthサーバーと統合
---

<Info>
  これはOAuth **認証**ハンドシェイクのドキュメントです。[OAuth **パーソナライゼーション** ハンドシェイク](/settings/authentication-personalization/personalization-setup/oauth) は少し異なります。
</Info>

既存のOAuthサーバーをお持ちの場合、Mintlifyとシームレスなログイン体験のために統合することができます。

## 実装

<Steps>
  <Step title="Configure your Authentication settings">
    あなたの[Mintlify authentication settings](https://dashboard.mintlify.com/products/authentication)に移動し、OAuthオプションを選択して、必要なフィールドに記入してください：

    * **Authorization URL**：適切なクエリパラメータを追加する認証リクエストのベースURL。
    * **Client ID**：使用するOAuth 2.0クライアントのID。
    * **Scopes**：リクエストされるスコープの配列。
    * **Token URL**：トークン交換リクエストのベースURL。
    * **Info API URL**（オプション）：ユーザー情報を取得するためにアクセスするエンドポイント。省略した場合、OAuth フローは本人確認のみに使用され、ユーザー情報は空になります。
  </Step>

  <Step title="Configure your OAuth client">
    リストされているリダイレクトURLを[Mintlify authentication settings](https://dashboard.mintlify.com/products/authentication)からコピーし、OAuthサーバーの承認済みリダイレクトURLとして追加してください。
  </Step>

  <Step title="Create your Info API (Optional)">
    認証のカスタマイズ機能を活用したい場合は、ユーザーに関する情報を取得するためのエンドポイントを作成する必要があります。OAuthアクセストークンでアクセスでき、[User](../sending-data)フォーマットに従ったJSONペイロードを返すAPIエンドポイントを作成してください。

    あなたの[Mintlify authentication settings](https://dashboard.mintlify.com/products/authentication)に戻り、Info API URLをOAuth設定に追加してください。
  </Step>
</Steps>

## 例

認証コードフローをサポートする既存のOAuthサーバーがあります。`foo.com/docs`でホストされているドキュメントの認証を設定したいと思います。

Mintlifyで認証を設定するために、エンドポイントを作成します`api.foo.com/docs/user-info`。このエンドポイントは`docs-user-info`スコープを持つOAuthアクセストークンを必要とし、Mintlifyの仕様に従ってユーザーのカスタムデータを返します。

その後、ダッシュボード設定に移動し、認証設定でOAuthを選択し、OAuthフローとInfo APIエンドポイントの関連値を入力します：

* **Authorization URL**: `https://auth.foo.com/authorization`
* **Client ID**: `ydybo4SD8PR73vzWWd6S0ObH`
* **Scopes**: `['docs-user-info']`
* **Token URL**: `https://auth.foo.com/exchange`
* **Info API URL**: `https://api.foo.com/docs/user-info`

最後に、ダッシュボード設定に表示されているリダイレクトURLをコピーし、OAuthクライアント設定で承認済みリダイレクトURLとして追加します。
