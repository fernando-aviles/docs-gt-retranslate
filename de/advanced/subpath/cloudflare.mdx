---
title: Cloudflare
description: Hosten Sie Dokumentation unter einem /docs Unterpfad mit Cloudflare Workers
---

## Cloudflare Worker erstellen

Navigieren Sie zu `Workers & Pages > Create application > Create worker`. Sie sollten den folgenden Bildschirm sehen, wo Sie einen neuen Cloudflare Worker erstellen können.

<Frame>
  <img alt="Create a Cloudflare worker" src="/images/cloudflare/worker.png" />
</Frame>

<Warning>
  Beachten Sie: Wenn Cloudflare Ihr DNS-Provider ist, sollten Sie kein Proxying für den CNAME-Eintrag verwenden
</Warning>

### Benutzerdefinierte Domain hinzufügen

Sobald der Worker erstellt ist, klicken Sie auf `Configure worker`. Navigieren Sie zum Worker
`Settings > Triggers`. Klicken Sie auf `Add Custom Domain`, um Ihre gewünschte Domain zur Liste hinzuzufügen - wir empfehlen, sowohl die Version mit als auch ohne `www.`
vor der Domain hinzuzufügen.

<Frame>
  <img alt="Cloudflare worker custom domain" src="/images/cloudflare/custom-domain.png" />
</Frame>

Wenn Sie Probleme beim Einrichten eines benutzerdefinierten Unterverzeichnisses haben,
[kontaktieren Sie unser Support-Team](mailto:sales@mintlify.com) und wir führen Sie durch den Prozess, Ihr Hosting bei uns zu aktualisieren.

### Worker-Skript bearbeiten

Klicken Sie auf `Edit Code` und fügen Sie das folgende Skript in den Code des Workers ein.

<Frame>
  <img alt="Cloudflare edit code" src="/images/cloudflare/edit-code.png" />
</Frame>

<Tip>
  Bearbeiten Sie `DOCS_URL` indem Sie `[SUBDOMAIN]` durch Ihre eindeutige Subdomain ersetzen und`CUSTOM_URL` durch die Basis-URL Ihrer Website.
</Tip>

```javascript
addEventListener("fetch", (event) => {
  event.respondWith(handleRequest(event.request));
});

async function handleRequest(request) {
  try {
    const urlObject = new URL(request.url);
    // If the request is to the docs subdirectory
    if (/^\/docs/.test(urlObject.pathname)) {
      // Then Proxy to Mintlify
      const DOCS_URL = "[SUBDOMAIN].mintlify.dev";
      const CUSTOM_URL = "[YOUR_DOMAIN]";

      let url = new URL(request.url);
      url.hostname = DOCS_URL;

      let proxyRequest = new Request(url, request);

      proxyRequest.headers.set("Host", DOCS_URL);
      proxyRequest.headers.set("X-Forwarded-Host", CUSTOM_URL);
      proxyRequest.headers.set("X-Forwarded-Proto", "https");

      return await fetch(proxyRequest);
    }
  } catch (error) {
    // if no action found, play the regular request
    return await fetch(request);
  }
}
```

Klicken Sie auf `Deploy` und warten Sie, bis die Änderungen übernommen wurden (dies kann bis zu einige Stunden dauern).
